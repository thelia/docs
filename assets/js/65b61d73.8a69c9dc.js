"use strict";(globalThis.webpackChunkthelia=globalThis.webpackChunkthelia||[]).push([[5249],{1192:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"smarty_plugins/index","title":"Smarty plugins","description":"To create plugin Smarty in Thelia, just create a new class that extend TheliaSmarty\\\\Template\\\\AbstractSmartyPlugin, then create function called getPluginDescriptors","source":"@site/docs/smarty_plugins/index.md","sourceDirName":"smarty_plugins","slug":"/smarty_plugins/","permalink":"/smarty_plugins/","draft":false,"unlisted":false,"editUrl":"https://github.com/thelia/docs/edit/main/docs/smarty_plugins/index.md","tags":[],"version":"current","frontMatter":{"title":"Smarty plugins"},"sidebar":"myAutogeneratedSidebar","previous":{"title":"Template","permalink":"/template"},"next":{"title":"Substitutions","permalink":"/smarty_plugins/substitutions/"}}');var s=e(4848),i=e(8453);const a={title:"Smarty plugins"},o=void 0,l={},c=[];function u(n){const t={a:"a",br:"br",code:"code",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["To create plugin Smarty in Thelia, just create a new class that extend ",(0,s.jsx)(t.code,{children:"TheliaSmarty\\Template\\AbstractSmartyPlugin"}),", then create function called ",(0,s.jsx)(t.code,{children:"getPluginDescriptors"}),"\nthat lists and describes all the plugin you want to create (you can create as many plugins as you want in one class).",(0,s.jsx)(t.br,{}),"\n","A smarty plugin is described like this :"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-php",children:"new SmartyPluginDescriptor(\n    'function',\n    'myFunction',\n    $this,\n    'doMyFunction'\n)\n"})}),"\n",(0,s.jsxs)(t.p,{children:["First parameter is the type of the plugin, more information ",(0,s.jsx)(t.a,{href:"https://smarty-php.github.io/smarty/programmers/plugins.html",children:"here"}),".",(0,s.jsx)(t.br,{}),"\n","Second parameter is the name you have to put in your templates to call your plugin.",(0,s.jsx)(t.br,{}),"\n","Third parameter is location of the Class of your function, in general it's ",(0,s.jsx)(t.code,{children:"$this"})," because you write function in the same class as the declaration.",(0,s.jsx)(t.br,{}),"\n","Fourth parameter is the name of the function you want to call."]}),"\n",(0,s.jsx)(t.p,{children:"Declaration of your plugins :"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-php",children:"class MyProjectPlugin extends AbstractSmartyPlugin\n{\n    public function getPluginDescriptors()\n    {\n        return [\n            new SmartyPluginDescriptor(\n                'function',\n                'lower',\n                 $this,\n                'lowerString'\n            ),\n            new SmartyPluginDescriptor(\n                'function',\n                'bestProduct',\n                $this,\n                'getBestProduct'\n            )\n        ];\n    }\n    \n    public function lowerString($params)\n    {\n        return strtolower($params['string']);\n    }\n    \n    public function getBestProduct($params)\n    {\n        // Do a query to find your best product and return it\n    }\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"Usage :"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-smarty",children:'    {lower string="A String THAT need to be LOWERCASE"} // Some plugins needs params\n    \n    {bestProduct} // Other don\'t\n'})})]})}function p(n={}){const{wrapper:t}={...(0,i.R)(),...n.components};return t?(0,s.jsx)(t,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}},8453:(n,t,e)=>{e.d(t,{R:()=>a,x:()=>o});var r=e(6540);const s={},i=r.createContext(s);function a(n){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof n?n(t):{...t,...n}},[t,n])}function o(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),r.createElement(i.Provider,{value:t},n.children)}}}]);