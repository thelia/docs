"use strict";(globalThis.webpackChunkthelia=globalThis.webpackChunkthelia||[]).push([[2815],{8453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>s});var i=r(6540);const n={},o=i.createContext(n);function a(e){const t=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),i.createElement(o.Provider,{value:t},e.children)}},9652:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"getting_started/troubleshooting/trigger_remove_free_text_feature_av","title":"Trigger Creation Fails","description":"When installing Thelia on a shared hosting environment, you might encounter an issue during the creation of the trigger removefreetextfeatureav.","source":"@site/docs/getting_started/troubleshooting/trigger_remove_free_text_feature_av.md","sourceDirName":"getting_started/troubleshooting","slug":"/getting_started/troubleshooting/trigger_remove_free_text_feature_av","permalink":"/docs/docs/getting_started/troubleshooting/trigger_remove_free_text_feature_av","draft":false,"unlisted":false,"editUrl":"https://github.com/thelia/docs/edit/main/docs/getting_started/troubleshooting/trigger_remove_free_text_feature_av.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Trigger Creation Fails","sidebar_position":1},"sidebar":"myAutogeneratedSidebar","previous":{"title":"Dockerize your Thelia","permalink":"/docs/docs/getting_started/docker"},"next":{"title":"Extending Thelia","permalink":"/docs/docs/extending_thelia"}}');var n=r(4848),o=r(8453);const a={title:"Trigger Creation Fails",sidebar_position:1},s=void 0,d={},l=[{value:"Error Details",id:"error-details",level:3},{value:"Cause",id:"cause",level:3},{value:"Workaround",id:"workaround",level:3},{value:"Impact",id:"impact",level:3}];function c(e){const t={code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["When installing Thelia on a shared hosting environment, you might encounter an issue during the creation of the trigger ",(0,n.jsx)(t.code,{children:"remove_free_text_feature_av"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"error-details",children:"Error Details"}),"\n",(0,n.jsx)(t.p,{children:"The following error message may appear:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"Error: #1142 - The 'TRIGGER' command is denied to user 'sun_temp_1'@'od-8308ad.infomaniak.ch' on table 'feature_product'\n"})}),"\n",(0,n.jsx)(t.h3,{id:"cause",children:"Cause"}),"\n",(0,n.jsx)(t.p,{children:"This issue is caused by insufficient database permissions for the user. Shared hosting environments often restrict the use of advanced features such as triggers. This limitation is not specific, might also occur with other hosting providers."}),"\n",(0,n.jsx)(t.h3,{id:"workaround",children:"Workaround"}),"\n",(0,n.jsx)(t.p,{children:"If trigger creation is not allowed:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Contact your hosting provider to verify if trigger permissions can be granted for your database user."}),"\n",(0,n.jsx)(t.li,{children:"Alternatively, consider switching to a VPS or dedicated server where you have full control over database permissions"}),"\n",(0,n.jsxs)(t.li,{children:["A workaround is to manually run the following SQL query periodically (e.g., via a cron job) to clean up the ",(0,n.jsx)(t.code,{children:"feature_av"})," table:"]}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",children:"DELETE FROM `feature_av`\nWHERE `id` IN (\n    SELECT `feature_av_id`\n    FROM `feature_product`\n    WHERE `is_free_text` = 1\n      AND `feature_av_id` NOT IN (\n          SELECT `feature_av_id`\n          FROM `feature_product`\n      )\n);\n"})}),"\n",(0,n.jsx)(t.h3,{id:"impact",children:"Impact"}),"\n",(0,n.jsxs)(t.p,{children:["This trigger is used to clean up the associated ",(0,n.jsx)(t.code,{children:"feature_av"})," entries when a ",(0,n.jsx)(t.code,{children:"feature_product"})," is deleted. The inability to create this trigger does not impact Thelia's functionality."]})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}}}]);