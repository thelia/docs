"use strict";(globalThis.webpackChunkthelia=globalThis.webpackChunkthelia||[]).push([[4741],{8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>l});var r=i(6540);const s={},t=r.createContext(s);function c(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(t.Provider,{value:n},e.children)}},8641:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"smarty_plugins/{check_auth}","title":"{check_auth}","description":"The function check_auth can be used to know if the user is granted to view something.","source":"@site/docs/smarty_plugins/{check_auth}.md","sourceDirName":"smarty_plugins","slug":"/smarty_plugins/{check_auth}","permalink":"/docs/smarty_plugins/{check_auth}","draft":false,"unlisted":false,"editUrl":"https://github.com/thelia/docs/edit/main/docs/smarty_plugins/{check_auth}.md","tags":[],"version":"current","frontMatter":{},"sidebar":"myAutogeneratedSidebar","previous":{"title":"{cache}","permalink":"/docs/smarty_plugins/{cache}"},"next":{"title":"{check_cart_not_empty}","permalink":"/docs/smarty_plugins/{check_cart_not_empty}"}}');var s=i(4848),t=i(8453);const c={},l=void 0,o={},a=[{value:"role",id:"role",level:2},{value:"login_tpl",id:"login_tpl",level:2},{value:"resource",id:"resource",level:2},{value:"module",id:"module",level:2},{value:"access",id:"access",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["The function ",(0,s.jsx)(n.code,{children:"check_auth"})," can be used to know if the user is granted to view something."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{check_auth role="CUSTOMER" login_tpl="login"}\n\n{check_auth resource="admin.address" access="VIEW" login_tpl="login"}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"role",children:"role"}),"\n",(0,s.jsx)(n.p,{children:"A user can only have one of these two roles:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"ADMIN : an administrator of the site"}),"\n",(0,s.jsx)(n.li,{children:"CUSTOMER : a registed and logged in customer"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"login_tpl",children:"login_tpl"}),"\n",(0,s.jsx)(n.p,{children:"This argument is the name of the view name (the login page is \u201clogin\u201d). If the user is not granted and this argument is defined, it redirects to this view."}),"\n",(0,s.jsx)(n.h2,{id:"resource",children:"resource"}),"\n",(0,s.jsx)(n.p,{children:"The resource argument may be useful in the back office. There is the list of the available resources in Thelia 2:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"admin.address"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.administrator"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.advanced"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.area"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.attribute"}),"\n",(0,s.jsx)(n.li,{children:"admin.category"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration"}),"\n",(0,s.jsx)(n.li,{children:"admin.content"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.country"}),"\n",(0,s.jsx)(n.li,{children:"admin.coupon"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.currency"}),"\n",(0,s.jsx)(n.li,{children:"admin.customer"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.feature"}),"\n",(0,s.jsx)(n.li,{children:"admin.folder"}),"\n",(0,s.jsx)(n.li,{children:"admin.home"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.language"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.mailing-system"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.message"}),"\n",(0,s.jsx)(n.li,{children:"admin.module"}),"\n",(0,s.jsx)(n.li,{children:"admin.order"}),"\n",(0,s.jsx)(n.li,{children:"admin.product"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.profile"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.shipping-zone"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.tax"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.template"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.system-logs"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.admin-logs"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.store"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.translations"}),"\n",(0,s.jsx)(n.li,{children:"admin.configuration.update"}),"\n",(0,s.jsx)(n.li,{children:"admin.export"}),"\n",(0,s.jsx)(n.li,{children:"admin.export.customer.newsletter"}),"\n",(0,s.jsx)(n.li,{children:"admin.tools"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"module",children:"module"}),"\n",(0,s.jsx)(n.p,{children:"Name of the module which the user must have access to. Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'    {check_auth role="ADMIN" module="Carousel" access="UPDATE" login_tpl="login"}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"access",children:"access"}),"\n",(0,s.jsx)(n.p,{children:"There is 4 types of access to a resource:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"CREATE : create a new entry"}),"\n",(0,s.jsx)(n.li,{children:"VIEW : view the resource"}),"\n",(0,s.jsx)(n.li,{children:"UPDATE : update the resource"}),"\n",(0,s.jsx)(n.li,{children:"DELETE : delete the resource"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Those accesses can be configured from the back office, tab \u201cConfiguration\u201d, on \u201cAdministration Profile\u201d."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);