"use strict";(globalThis.webpackChunkthelia=globalThis.webpackChunkthelia||[]).push([[2523],{6994:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>g,frontMatter:()=>r,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"getting_started/nginx_configuration","title":"Nginx configuration","description":"Only the `web` directory has to be accessible :","source":"@site/docs/getting_started/nginx_configuration.md","sourceDirName":"getting_started","slug":"/getting_started/nginx_configuration","permalink":"/docs/docs/getting_started/nginx_configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/thelia/docs/edit/main/docs/getting_started/nginx_configuration.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Nginx configuration","sidebar_position":2},"sidebar":"myAutogeneratedSidebar","previous":{"title":"Installation","permalink":"/docs/docs/getting_started/Installation"},"next":{"title":"Apache configuration","permalink":"/docs/docs/getting_started/apache_configuration"}}');var i=e(4848),a=e(8453);const r={title:"Nginx configuration",sidebar_position:2},s=void 0,c={},l=[];function d(n){const t={code:"code",p:"p",pre:"pre",...(0,a.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["Only the ",(0,i.jsx)(t.code,{children:"web"})," directory has to be accessible :"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:'server {\n    listen 80;\n    server_name domain.tld;\n\n    root /var/www/thelia/web/;\n    index index.php;\n\n    access_log      /var/log/nginx/domain.tld_access.log;\n    error_log       /var/log/nginx/domain.tld_error.log;\n\n    location / {\n        try_files $uri $uri/ @rewriteapp;\n    }\n\n    location @rewriteapp {\n    # rewrite all to index.php\n        rewrite ^(.*)$ /index.php/$1 last;\n    }\n\n    # Php configuration\n    location ~ ^/(index|index_dev)\\.php(/|$) {\n        # Php-FPM Config (Socks or Network) \n        fastcgi_pass unix:/var/run/php5-fpm.sock;\n        # fastcgi_pass 127.0.0.1:9000;\n        fastcgi_split_path_info ^(.+\\.php)(/.*)$;\n        include fastcgi_params;\n        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    }\n\n    # Security. discard all files and folders starting with a "."\n    location ~ /\\. {\n        deny  all;\n        access_log off;\n        log_not_found off;\n    }\n    # Stuffs\n    location = /favicon.ico {\n        allow all;\n        access_log off;\n        log_not_found off;\n    }\n    location ~ /robots.txt {\n        allow  all;\n        access_log off;\n        log_not_found off;\n    }\n\n    # Static files\n    location ~* ^.+\\.(jpg|jpeg|gif|css|png|js|pdf|zip)$ {\n        expires     30d;\n        access_log  off;\n        log_not_found off;\n    }\n}\n'})}),"\n",(0,i.jsxs)(t.p,{children:["Replace ",(0,i.jsx)(t.code,{children:"/var/www/thelia/web"})," by the full path to the web directory of your project"]})]})}function g(n={}){const{wrapper:t}={...(0,a.R)(),...n.components};return t?(0,i.jsx)(t,{...n,children:(0,i.jsx)(d,{...n})}):d(n)}},8453:(n,t,e)=>{e.d(t,{R:()=>r,x:()=>s});var o=e(6540);const i={},a=o.createContext(i);function r(n){const t=o.useContext(a);return o.useMemo(function(){return"function"==typeof n?n(t):{...t,...n}},[t,n])}function s(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),o.createElement(a.Provider,{value:t},n.children)}}}]);